<?xml version="1.0" encoding="UTF-8"?>
<!ENTITY mytext "SuperText to replace!">
<?GPAC?>
<!-- XMT-A Scene Dump -->
<XMT-A xmlns="urn:mpeg:mpeg4:xmta:schema:2002" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:mpeg:mpeg4:xmta:schema:2002 xmt-a.xsd">
 <Header>
 <InitialObjectDescriptor objectDescriptorID="od1" binaryID="1" >
  <Profiles audioProfileLevelIndication="255" visualProfileLevelIndication="254" sceneProfileLevelIndication="254" graphicsProfileLevelIndication="254" ODProfileLevelIndication="255" />
  <Descr>
   <esDescr>
    <ES_Descriptor ES_ID="es1" binaryID="1" >
     <decConfigDescr>
      <DecoderConfigDescriptor objectTypeIndication="0" streamType="3" >
       <decSpecificInfo>
        <BIFSConfig >
          <commandStream pixelMetric="true" >
           <size pixelWidth="320" pixelHeight="240" />
          </commandStream>
        </BIFSConfig>
       </decSpecificInfo>
      </DecoderConfigDescriptor>
     </decConfigDescr>
     <slConfigDescr>
     <SLConfigDescriptor >
     </SLConfigDescriptor>
     </slConfigDescr>
    </ES_Descriptor>
    <ES_Descriptor ES_ID="es2" binaryID="2" >
     <decConfigDescr>
      <DecoderConfigDescriptor objectTypeIndication="0" streamType="1" >
      </DecoderConfigDescriptor>
     </decConfigDescr>
     <slConfigDescr>
     <SLConfigDescriptor >
     </SLConfigDescriptor>
     </slConfigDescr>
    </ES_Descriptor>
   </esDescr>
  </Descr>
 </InitialObjectDescriptor>
 </Header>
 <Body>
 <par begin="0">
 <ObjectDescriptorUpdate >
   <OD>
    <ObjectDescriptor objectDescriptorID="od10" binaryID="10" >
     <Descr>
      <esDescr>
       <ES_Descriptor ES_ID="es20" binaryID="20" >
        <StreamSource url="../auxiliary_files/logo.png" >
         <MP4MuxHints />
        </StreamSource>
       </ES_Descriptor>
      </esDescr>
     </Descr>
    </ObjectDescriptor>
    <ObjectDescriptor objectDescriptorID="od20" binaryID="20" >
     <Descr>
      <esDescr>
       <ES_Descriptor ES_ID="es5" binaryID="5" >
        <decConfigDescr>
         <DecoderConfigDescriptor objectTypeIndication="0" streamType="10" >
          <decSpecificInfo>
           <UIConfig deviceName="KeySensor" >
           </UIConfig>
          </decSpecificInfo>
         </DecoderConfigDescriptor>
        </decConfigDescr>
        <slConfigDescr>
        <SLConfigDescriptor >
        </SLConfigDescriptor>
        </slConfigDescr>
       </ES_Descriptor>
      </esDescr>
     </Descr>
    </ObjectDescriptor>
<![CDATA[not used]]>

    <ObjectDescriptor objectDescriptorID="od30" binaryID="30" >
     <Descr>
      <esDescr>
       <ES_Descriptor ES_ID="es6" binaryID="6" >
        <decConfigDescr>
         <DecoderConfigDescriptor objectTypeIndication="0" streamType="10" >
          <decSpecificInfo>
           <UIConfig deviceName="Mouse" >
           </UIConfig>
          </decSpecificInfo>
         </DecoderConfigDescriptor>
        </decConfigDescr>
        <slConfigDescr>
        <SLConfigDescriptor >
        </SLConfigDescriptor>
        </slConfigDescr>
       </ES_Descriptor>
      </esDescr>
     </Descr>
    </ObjectDescriptor>
   </OD>
 </ObjectDescriptorUpdate>
  <Replace>
   <Scene>
    <ProtoDeclare name="Proto0" protoID="1" locations="&quot;bifs-externproto-nood-lib.bt#GEOMETRY_PROTO&quot;">
     <field name="_field0" type="Vector2" vrml97Hint="exposedField" vector2Value="0 0"/>
     <field name="_field1" type="Vector2" vrml97Hint="exposedField" vector2Value="1 1"/>
     <field name="_field2" type="Float" vrml97Hint="exposedField" floatValue="0"/>
     <field name="_field3" type="Color" vrml97Hint="exposedField" colorValue="1 1 1"/>
     <field name="_field4" type="Boolean" vrml97Hint="exposedField" booleanValue="true"/>
     <field name="_field5" type="Float" vrml97Hint="exposedField" floatValue="0"/>
     <field name="_field6" type="Color" vrml97Hint="exposedField" colorValue="0 0 0"/>
     <field name="_field7" type="Float" vrml97Hint="exposedField" floatValue="0"/>
     <field name="_field8" type="Node" vrml97Hint="exposedField">
<node>NULL</node></field>
         </ProtoDeclare>
    <ProtoDeclare name="Proto1" protoID="2">
     <field name="_field0" type="Boolean" vrml97Hint="eventIn"/>
     <field name="_field1" type="Boolean" vrml97Hint="eventIn"/>
     <field name="_field2" type="Vector2" vrml97Hint="exposedField" vector2Value="0 0"/>
     <field name="_field3" type="Float" vrml97Hint="exposedField" floatValue="0"/>
     <field name="_field4" type="Color" vrml97Hint="exposedField" colorValue="1 1 1"/>
     <field name="_field5" type="Boolean" vrml97Hint="exposedField" booleanValue="true"/>
     <field name="_field6" type="Float" vrml97Hint="exposedField" floatValue="0"/>
     <field name="_field7" type="Color" vrml97Hint="exposedField" colorValue="0 0 0"/>
     <field name="_field8" type="Float" vrml97Hint="exposedField" floatValue="0"/>
     <field name="_field9" type="Node" vrml97Hint="exposedField">
<node>NULL</node></field>
              <Transform2D DEF="N0" scale="2 1">
      <IS>
       <connect nodeField="rotationAngle" protoField="_field3"/>
       <connect nodeField="translation" protoField="_field2"/>
      </IS>
      <children>
       <Shape DEF="N1">
        <IS>
        </IS>
        <appearance>
         <Appearance>
          <material>
           <Material2D>
            <IS>
             <connect nodeField="emissiveColor" protoField="_field4"/>
             <connect nodeField="filled" protoField="_field5"/>
             <connect nodeField="transparency" protoField="_field6"/>
            </IS>
            <lineProps>
             <LineProperties>
              <IS>
               <connect nodeField="lineColor" protoField="_field7"/>
               <connect nodeField="width" protoField="_field8"/>
              </IS>
             </LineProperties>
            </lineProps>
           </Material2D>
          </material>
         </Appearance>
        </appearance>
        <IS>
         <connect nodeField="geometry" protoField="_field9"/>
        </IS>
       </Shape>
      </children>
     </Transform2D>
     <Conditional DEF="N2">
      <IS>
       <connect nodeField="activate" protoField="_field0"/>
      </IS>
      <buffer>
       <Replace atNode="N0" atField="scale"  value="1 1"/>
      </buffer>
     </Conditional>
     <Conditional DEF="N3">
      <IS>
       <connect nodeField="reverseActivate" protoField="_field1"/>
      </IS>
      <buffer>
       <Replace atNode="N0" atField="scale"  value="2 1"/>
      </buffer>
     </Conditional>
    </ProtoDeclare>
    <OrderedGroup DEF="OG">
     <children>
      <Background2D DEF="N0" backColor="1 0 1" url="&quot;../auxiliary_files/logo.png&quot;"/>
      <Background2D DEF="N1" backColor="1 0 0" url="&quot;od://od10&quot;"/>
      <WorldInfo info="&quot;This tests encoding of BIFS nodes and commands and OD commands&quot; &quot;Not all bifs nodes are tested, but most encoding syntax of BIFS is&quot; &quot;&quot; &quot;GPAC Regression Tests&quot; &quot;(C) 2019 GPAC Team&quot;" title="Encoding Test"/>
      <Viewport DEF="N2" size="200 200" orientation="0.5" alignment="0 0" fit="2" description="basic Viewport"/>
      <Transform2D DEF="TR">
       <children>

        <Conditional>
        <buffer>
         <Replace atNode="N7" atField="activate" value="true"/>
        </buffer>
        </Conditional>

        <Shape>
         <appearance>
          <Appearance DEF="N4">
           <material>
            <Material2D DEF="MYMAT" emissiveColor="0 1 0" filled="true"/>
           </material>
          </Appearance>
         </appearance>
         <geometry>
          <Rectangle DEF="N5" size="100 100"/>
         </geometry>
        </Shape>
        <TouchSensor DEF="N6"/>
        <DiscSensor autoOffset="false"/>
        <PlaneSensor2D/>
        <ProximitySensor2D/>
       </children>
      </Transform2D>
      <Conditional DEF="N7">
       <buffer>
        <Replace atNode="N0" atField="set_bind"  value="true"/>
       </buffer>
      </Conditional>
      <Conditional DEF="N8">
       <buffer>
        <Replace atNode="N1" atField="set_bind"  value="true"/>
       </buffer>
      </Conditional>
      <TransformMatrix2D>
       <children>
        <Shape>
         <appearance>
          <Appearance DEF="APP">
           <material>
            <Material2D>
             <lineProps>
              <LineProperties width="15"/>
             </lineProps>
            </Material2D>
           </material>
          </Appearance>
         </appearance>
         <geometry>
          <Rectangle USE="N5"/>
         </geometry>
        </Shape>
        <ColorTransform DEF="N9" mrr="0" mgg="0" mbb="0" maa="0" ta="1">
         <children>
          <Shape>
           <appearance>
            <Appearance>
             <material>
              <Material2D DEF="MYMAT2">
               <lineProps>
                <XLineProperties DEF="N10" width="20">
                 <texture>
                  <ImageTexture DEF="N11" url="&quot;od://od10&quot;" repeatS="false" repeatT="false"/>
                 </texture>
                </XLineProperties>
               </lineProps>
              </Material2D>
             </material>
            </Appearance>
           </appearance>
           <geometry>
            <Rectangle USE="N5"/>
           </geometry>
          </Shape>
         </children>
        </ColorTransform>
       </children>
      </TransformMatrix2D>
      <Clipper2D inside="false"/>
      <Layer2D size="20 20"/>
      <Form size="100 200" groups="1 -1 2 -1" constraints="&quot;AT&quot; &quot;AB&quot; &quot;AH&quot;" groupsIndex="0 1 -1 0 2 -1 1 2 -1"/>
      <Layout/>
      <PathLayout alignment="0 1"/>
      <ProtoInstance name="Proto0">
       <fieldValue name="_field0"  vector2Value="20 50"/>
       <fieldValue name="_field1"  vector2Value="1 1"/>
       <fieldValue name="_field2"  floatValue="0"/>
       <fieldValue name="_field3"  colorValue="0 1 0"/>
       <fieldValue name="_field4"  booleanValue="true"/>
       <fieldValue name="_field5"  floatValue="0"/>
       <fieldValue name="_field6"  colorValue="0 0 0"/>
       <fieldValue name="_field7"  floatValue="0"/>
       <fieldValue name="_field8" >
<node>        <Circle DEF="N12" radius="75"/>
</node>       </fieldValue>
      </ProtoInstance>
      <Shape>
       <geometry>
        <Text string="&mytext;">
         <fontStyle>
          <FontStyle DEF="N13" justify="&quot;MIDDLE&quot; &quot;MIDDLE&quot;" size="12"/>
         </fontStyle>
        </Text>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <Text>
        some text
    on 
several
lines
         <fontStyle>
          <FontStyle DEF="N13" justify="&quot;MIDDLE&quot; &quot;MIDDLE&quot;" size="12"/>
         </fontStyle>
        </Text>
       </geometry>
      </Shape>

<!-- comments
ignored
ignored
-->

      <AnimationStream/>
      <Sound2D>
       <source>
        <AudioSource>
         <children>
          <AudioClip/>
          <AudioBuffer/>
         </children>
        </AudioSource>
       <source>
      </Sound2D>
      <TimeSensor/>


      <Shape>
       <appearance>
        <Appearance>
         <texture>
<ImageTexture/>
         </texture>
         <textureTransform>
          <TextureTransform rotation="0.78"/>
         </textureTransform>
        </Appearance>
       </appearance>
       <geometry>
        <Circle radius="50"/>
       </geometry>
      </Shape>
      <Shape>
       <appearance>
        <Appearance>
         <texture>
          <MovieTexture startTime="2"/>
         </texture>
         <textureTransform>
<TransformMatrix2D/>
         </textureTransform>
        </Appearance>
       </appearance>
       <geometry>
        <Curve2D>
         <point>
          <Coordinate2D DEF="COORDS" point="-50 0 -100 50 0 20 10 30 40 80 50 0"/>
         </point>
        </Curve2D>
       </geometry>
      </Shape>
      <Shape>
       <appearance>
        <Appearance>
         <texture>
          <PixelTexture image="4 4 1 0xFF 0xFF 0x00 0x00 0xFF 0xFF 0x00 0x00 0x00 0x00 0xFF 0xFF 0x00 0x00 0xFF 0xFF"/>
         </texture>
        </Appearance>
       </appearance>
       <geometry>
        <IndexedLineSet2D>
         <coord>
          <Coordinate2D point="-50 0 0 50 50 0"/>
         </coord>
        </IndexedLineSet2D>
       </geometry>
      </Shape>
      <Shape>
       <appearance>
        <Appearance>
         <texture>
          <LinearGradient key="0 0.45 0.5 0.55 1" keyValue="0.2118 0.447 0.039 0.2118 0.447 0.039 0.2627 0.933 0 0.2392 0.3098 0.04313 0.2392 0.3098 0.04313" startPoint="-1 0"/>
         </texture>
        </Appearance>
       </appearance>
       <geometry>
        <IndexedFaceSet2D>
         <coord>
          <Coordinate2D point="-50 0 -25 25 0 80 50 0"/>
         </coord>
        </IndexedFaceSet2D>
       </geometry>
      </Shape>
      <Shape>
       <appearance>
        <Appearance>
         <texture>
          <RadialGradient DEF="N15" focalPoint="0 0.5" key="0 0.5 1" keyValue="0 0 1 1 0 0 0 1 0"/>
         </texture>
        </Appearance>
       </appearance>
       <geometry>
        <PointSet2D>
         <coord>
          <Coordinate2D point="-50 0 -25 25 0 80 50 0"/>
         </coord>
        </PointSet2D>
       </geometry>
      </Shape>
      <Shape>
       <appearance>
        <Appearance USE="N4"/>
       </appearance>
       <geometry>
        <XCurve2D type="4">
         <point>
          <Coordinate2D point="0 0 40 0 40 0 40 40"/>
         </point>
        </XCurve2D>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
<Bitmap/>
       </geometry>
      </Shape>
      <Shape>
       <appearance>
        <Appearance DEF="SOMEAPP">
         <material>
          <Material diffuseColor="1 0 0"/>
         </material>
         <texture>
          <CacheTexture objectTypeIndication="108" cacheURL="MyCachedPicture.jpg" expirationDate="3"/>
         </texture>
        </Appearance>
       </appearance>
       <geometry>
        <Box size="120 100 80"/>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <Cone bottomRadius="25" height="150"/>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <Cylinder height="150" radius="25"/>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <ElevationGrid height="17 14 16 12 14 21 20 11 9 16 13 13 22 14 17 12 15 21 17 10 14 12 19 16 17 11 13 11 9 13 11 11 17 9 15 11 9 8 6 10 7 12 15 8 11 5 7 9 0 0 0 0 0 5 12 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 6 2 0 -2 -6 -12 -11 -7 -2 0 1 6 9 3 -1 -4 -9 -15 -13 -11 -4 -1 3 9 11 8 1 -5 -11 -15 -11 -9 -7 -1 5 7 9 8 -2 -10 -9 -9 -11 -13 -9 1 8 6" creaseAngle="2" xDimension="12" xSpacing="15" zDimension="11" zSpacing="8"/>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <Extrusion creaseAngle="1" crossSection="1 0 0.92 -0.38 0.71 -0.71 0.38 -0.92 0 -1 -0.38 -0.92 -0.71 -0.71 -0.92 -0.38 -1 -0 -0.92 0.38 -0.71 0.71 -0.38 0.92 0 1 0.38 0.92 0.71 0.71 0.92 0.38 1 0" endCap="false" scale="1.8 1.8 1.95 1.95 2 2 1.95 1.95 1.8 1.8 1.5 1.5 1.2 1.2 1.05 1.05 1 1 1.05 1.05 1.15 1.15" solid="false" spine="0 0 0 0 0.4 0 0 0.8 0 0 1.2 0 0 1.6 0 0 2 0 0 2.4 0 0 2.8 0 0 3.2 0 0 3.6 0 0 4 0"/>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <IndexedFaceSet coordIndex="0 1 2 3 -1 1 7 4 2 -1 7 6 5 4 -1 0 3 5 6 -1 3 2 4 5 -1 6 7 1 0 -1">
         <color>
          <Color DEF="N16" color="1 0 0 0 1 0 0 0 1 1 1 0 1 0 1 0 1 1 1 0.5 0.5 0.5 0.5 1"/>
         </color>
         <coord>
          <Coordinate point="-1 -1 1 1 -1 1 1 1 1 -1 1 1 1 1 -1 -1 1 -1 -1 -1 -1 1 -1 -1"/>
         </coord>
        </IndexedFaceSet>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <IndexedLineSet colorIndex="0 1 2 3 0 -1 0 1 2 3 0 -1 0 3 -1 0 2 -1 0 1 -1 1 3" coordIndex="0 1 2 3 0 -1 4 5 6 7 4 -1 0 4 -1 1 5 -1 2 6 -1 3 7">
         <color>
          <Color color="1 0 0 0 1 0 0 0 1 1 1 0"/>
         </color>
         <coord>
          <Coordinate point="-1 1 1 1 1 1 1 1 -1 -1 1 -1 -1 -1 1 1 -1 1 1 -1 -1 -1 -1 -1"/>
         </coord>
        </IndexedLineSet>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <NonLinearDeformer axis="0 1 0" extend="0 0.5 0.5 1 1 0.2" param="1">
         <geometry>
          <IndexedFaceSet creaseAngle="2" solid="false"/>
         </geometry>
        </NonLinearDeformer>
       </geometry>
      </Shape>
      <Shape>
       <geometry>
        <PointSet>
         <coord>
          <Coordinate DEF="N17" point="-1 1 1 1 1 1 1 1 -1 -1 1 -1 -1 -1 1 1 -1 1 1 -1 -1 -1 -1 -1"/>
         </coord>
        </PointSet>
       </geometry>
      </Shape>
      <Valuator DEF="N18"/>
      <Valuator DEF="N19" Offset1="-1"/>
      <Valuator DEF="N20"/>
      <Valuator DEF="N21"/>
      <Valuator DEF="N22"/>
      <Valuator DEF="N23"/>
      <Valuator DEF="N24"/>
      <Valuator DEF="N25"/>
      <InputSensor url="&quot;od://od20&quot;">
       <buffer>
        <Replace atNode="N20" atField="inSFInt32"  value="0"/>
        <Replace atNode="N21" atField="inSFInt32"  value="0"/>
        <Replace atNode="N18" atField="inSFInt32"  value="0"/>
        <Replace atNode="N22" atField="inSFInt32"  value="0"/>
        <Replace atNode="N23" atField="inSFBool"  value="true"/>
        <Replace atNode="N24" atField="inSFBool"  value="true"/>
        <Replace atNode="N25" atField="inSFBool"  value="true"/>
       </buffer>
      </InputSensor>
      <InputSensor url="&quot;od://od30&quot;">
       <buffer>
        <Replace atNode="TR" atField="translation"  value="0 0"/>
       </buffer>
      </InputSensor>
      <Layer3D size="200 200">
       <children>
        <NavigationInfo avatarSize="0.25 1.6 8"/>
        <Viewpoint position="0 0 -10" description="defVP"/>
        <Background groundAngle="0.56 1.2" groundColor="0 0 0 0.1 0.8 0.8 0.5 1 0" skyAngle="0.5 1.2 1.8" skyColor="0 0 0.5 0.2 0.4 0.2 0.4 0.1 0 0.5 0.5 0.2"/>
       </children>
      </Layer3D>
      <Collision DEF="N26">
       <proxy>
        <Shape>
         <geometry>
          <Sphere radius="6"/>
         </geometry>
        </Shape>
       </proxy>
      </Collision>
      <CylinderSensor/>
      <SphereSensor/>
      <PlaneSensor/>
      <VisibilitySensor DEF="N27"/>
      <Transform scaleOrientation="1 0 0 0.2"/>
      <Transform2D DEF="TR_QP"/>
      <Script DEF="N28" url="javascript:function set_time(value,text) {}function initialize() {if (1) {} else {}for (i=0; i&lt;10; i++) {continue;}while (0) {break;}var myvar;myvar=true;myvar=10;myvar--;myvar-=1;myvar++;++myvar;--myvar;myvar+=2;myvar/=2;myvar*=2;myvar%=2;myvar=myvar + 2;myvar=myvar - 2;myvar=myvar * 2;myvar=myvar / 2;myvar=myvar | myvar;myvar=myvar ^ myvar;myvar=myvar &amp; myvar;myvar=2 &lt;&lt; 4;myvar&lt;&lt;=2;myvar=2 &gt;&gt; 4;myvar&gt;&gt;=2;myvar&gt;&gt;&gt;=2;myvar=2 &gt;&gt;&gt; 4;myvar&amp;=2;myvar=myvar ? myvar : myvar;myvar=(myvar==2) ? myvar : myvar;myvar=~myvar;myvar=!myvar;myvar=-myvar;myvar|=myvar;myvar^=myvar;myvar%=myvar;myvar=myvar%2;myvar=myvar ? 0 : 1;if (myvar &lt;=2) {}if (myvar &gt;=2) {}if (myvar &lt;2) {}if (myvar &gt;2) {}if (myvar ==2) {}if (myvar !=2) {}if (myvar || myvar) {}if (myvar &amp;&amp; myvar) {}if (! myvar) {}switch (myvar) {case 1: return;default: break;}myvar= &apos;toto&apos;;myvar=new Date();myvar.getDate();myvar[1]=&apos;string&apos;;tes = myvar[0];myvar = myvar.empty;myvar.push(&apos;test&apos;);set_time(0,0);myvar.fun = function() { };}       ">
       <field name="set_time" type="Time" vrml97Hint="eventIn"/>
       <field name="str" type="Node" vrml97Hint="field">
<node>        <VisibilitySensor USE="N27"/>
</node></field>
             </Script>
      <ProtoInstance name="Proto1" DEF="N29">
       <fieldValue name="_field2"  vector2Value="100 0"/>
       <fieldValue name="_field3"  floatValue="0.78"/>
       <fieldValue name="_field4"  colorValue="1 0 1"/>
       <fieldValue name="_field5"  booleanValue="true"/>
       <fieldValue name="_field6"  floatValue="0.75"/>
       <fieldValue name="_field7"  colorValue="1 0 0"/>
       <fieldValue name="_field8"  floatValue="2"/>
       <fieldValue name="_field9" >
<node>        <Circle radius="75"/>
</node>       </fieldValue>
      </ProtoInstance>
      <Transform2D DEF="N30" translation="-100 0">
       <children>
        <ProtoInstance name="Proto1">
         <fieldValue name="_field2"  vector2Value="0 0"/>
         <fieldValue name="_field3"  floatValue="0"/>
         <fieldValue name="_field4"  colorValue="1 0 0"/>
         <fieldValue name="_field5"  booleanValue="true"/>
         <fieldValue name="_field6"  floatValue="0"/>
         <fieldValue name="_field7"  colorValue="0 0 0"/>
         <fieldValue name="_field8"  floatValue="0"/>
         <fieldValue name="_field9" >
<node>          <Rectangle size="50 50"/>
</node>         </fieldValue>
        </ProtoInstance>
        <TouchSensor DEF="N31"/>
       </children>
      </Transform2D>
      <Transform2D DEF="TR1" translation="-100 0"/>
      <Transform2D DEF="TR2" translation="100 0"/>
      <Transform2D DEF="TR3"/>
      <EnvironmentTest DEF="EV1" parameter="2"/>
      <Transform2D DEF="TR_SW">
       <children>
        <Conditional/>
       </children>
      </Transform2D>
      <Switch DEF="SW" whichChoice="0"/>
     </children>
    </OrderedGroup>
    <ROUTE DEF="R1" fromNode="N6" fromField="isOver" toNode="N8" toField="activate"/>
    <ROUTE fromNode="N6" fromField="isOver" toNode="N7" toField="reverseActivate"/>
    <ROUTE fromNode="N31" fromField="isActive" toNode="N29" toField="_field0"/>
    <ROUTE fromNode="N31" fromField="isActive" toNode="N29" toField="_field1"/>
    <ROUTE fromNode="TR1" fromField="children" toNode="TR2" toField="addChildren"/>
    <ROUTE fromNode="TR1" fromField="children" toNode="TR3" toField="children"/>
   </Scene>
  </Replace>
 </par>
<par begin="0.2">
  <Delete atNode="COORDS" atField="point" position="BEGIN"/>  <Replace atRoute="R1">
  <ROUTE fromNode="N6" fromField="isActive" toNode="N8" toField="activate"/>
</Replace> </par>
<par begin="0.4">
  <Insert atNode="TR1" position="END">  <Shape>
   <appearance>
    <Appearance>
     <material>
      <Material2D DEF="M1" emissiveColor="1 0 0" filled="true"/>
     </material>
    </Appearance>
   </appearance>
   <geometry>
    <Rectangle size="100 50"/>
   </geometry>
  </Shape>
</Insert>
 </par>
<par begin="0.6">
  <Replace atNode="TR" atField="children" position="BEGIN">
NULL</Replace>
  <Delete atNode="APP"/>
 </par>
<par begin="0.8">
  <Replace atNode="TR_QP">  <Transform2D DEF="TR_1" scale="0.5 0.5">
   <children>
    <QuantizationParameter position2DQuant="true" position2DMin="-100 -100" position2DMax="100 100" position2DNbBits="8" colorQuant="false"/>
    <Shape>
     <geometry>
      <IndexedFaceSet2D>
       <coord>
        <Coordinate2D point="-100 0 -50 100 50 100 100 0 50 -100 -50 -100"/>
       </coord>
      </IndexedFaceSet2D>
     </geometry>
    </Shape>
   </children>
  </Transform2D>
</Replace>
 </par>
<par begin="1">
  <Replace atNode="TR_1">  <Transform DEF="TR_2">
   <children>
    <QuantizationParameter position2DQuant="true" position2DMin="-100 -100" position2DMax="100 100" position2DNbBits="6" useEfficientCoding="true"/>
    <Transform2D>
     <children>
      <Shape>
       <appearance>
        <Appearance>
         <material>
          <Material2D emissiveColor="0.25 0.75 0.75" transparency="0.5"/>
         </material>
        </Appearance>
       </appearance>
       <geometry>
        <IndexedFaceSet2D>
         <coord>
          <Coordinate2D point="-100 0 -50 100 50 100 100 0 50 -100 -50 -100"/>
         </coord>
        </IndexedFaceSet2D>
       </geometry>
      </Shape>
     </children>
    </Transform2D>
    <QuantizationParameter isLocal="true" position3DQuant="true" position3DMin="-200 -200 -200" position3DMax="200 200 200" position3DNbBits="6"/>
    <Transform rotation="1 0 0 0.78" translation="200 10 90">
     <children>
      <Shape>
       <appearance>
        <Appearance>
         <material>
          <Material2D emissiveColor="0.25 0.75 0.75" transparency="0.5"/>
         </material>
        </Appearance>
       </appearance>
       <geometry>
        <IndexedFaceSet>
         <normal>
          <Normal vector="-1 1 1 -2 1 3 -3 1 1"/>
         </normal>
        </IndexedFaceSet>
       </geometry>
      </Shape>
     </children>
    </Transform>
   </children>
  </Transform>
</Replace>
</par>
<par begin="0.2">
 <ObjectDescriptorUpdate >
   <OD>
    <ObjectDescriptor objectDescriptorID="od10" binaryID="10" >
     <Descr>
      <esDescr>
       <ES_Descriptor ES_ID="es21" binaryID="21">
        <StreamSource url="../auxiliary_files/logo.jpg" >
         <MP4MuxHints />
        </StreamSource>
       </ES_Descriptor>
      </esDescr>
     </Descr>
    </ObjectDescriptor>
   </OD>
 </ObjectDescriptorUpdate>
</par>
<par begin="0.4">
  <ES_DescriptorRemove objectDescriptorId="od10" ES_ID="es20" />
 </par>
<par begin="1.2">
  <ObjectDescriptorRemove objectDescriptorId="od10" />
</par>

<par begin="1.2">
  <Delete atRoute="R1"/>
  <Replace atNode="COORDS" atField="point" position="2" value="100 100"/>
  <Replace atNode="TR1" atField="children" position="BEGIN">
NULL</Replace>
 </par>
<par begin="1.4">
  <Insert atNode="OG" position="BEGIN">  <Transform2D scale="0.5 0.5" translation="-100 -50">
   <children>
    <EnvironmentTest USE="EV1"/>
   </children>
  </Transform2D>
</Insert>
  <Insert>
  <ROUTE fromNode="N31" fromField="isOver" toNode="N29" toField="_field1"/>
</Insert>  <Replace extended="indices" atNode="COORDS" atField="point">
   <repValue position="0"  value="-20 0"/>   <repValue position="2"  value="50 50"/>   <repValue position="5"  value="-50 -80"/>  </Replace>
  <Delete extended="deleteOrder" atNode="N2"/>
  <Replace atNode="N1">  <Background2D backColor="0 1 1"/>
</Replace>
  <Replace atNode="TR_SW" atField="children" atIndexNode="SW" atIndexField="whichChoice" atChildField="activate" value="true"/>
  <Replace atNode="MYMAT2" atField="emissiveColor" fromNode="MYMAT" fromField="emissiveColor"/>
  <Insert atNode="COORDS" atField="point" position="BEGIN" value="-50 -50"/>
 </par>
<par begin="1.6">
  <Insert atNode="OG" position="END">  <Transform2D scale="0.5 0.5" translation="100 50">
   <children>
    <EnvironmentTest USE="EV1"/>
   </children>
  </Transform2D>
</Insert>
  <Replace extended="fields" atNode="MYMAT">
   <repField atField="emissiveColor"  value="0 1 0"/>
   <repField atField="transparency"  value="0.9"/>
   <repField>   <lineProps>
    <LineProperties lineColor="0 0 1" width="2"/>
   </lineProps>
</repField>
  </Replace>
  <Replace atNode="SOMEAPP">NULL</Replace>
  <Replace atNode="N30">NULL</Replace>
 </par>
<par begin="1.8">
  <Insert extended="proto">
   <ProtoDeclare name="MYPROTO" protoID="3">
    <field name="translation" type="Vector2" vrml97Hint="exposedField" vector2Value="0 0"/>
       <Transform2D>
     <IS>
      <connect nodeField="translation" protoField="translation"/>
     </IS>
     <children>
      <Shape>
       <appearance>
        <Appearance>
         <material>
          <Material2D emissiveColor="1 0 0" filled="true"/>
         </material>
        </Appearance>
       </appearance>
       <geometry>
        <Circle radius="20"/>
       </geometry>
      </Shape>
     </children>
    </Transform2D>
   </ProtoDeclare>
  </Insert>
  <Insert atNode="OG" position="BEGIN">  <ProtoInstance name="MYPROTO">
   <fieldValue name="translation"  vector2Value="100 0"/>
  </ProtoInstance>
</Insert>
  <Replace atNode="MYMAT" atField="filled"  value="false"/>
 </par>
<par begin="2">
  <Replace extended="globalQuant">
  <QuantizationParameter position2DQuant="true" position2DMin="-100 -100" position2DMax="100 100" position2DNbBits="2"/>
</Replace>
  <Insert atNode="OG" position="END">  <Transform2D scale="0.5 0.5">
   <children>
    <Shape>
     <appearance>
      <Appearance>
       <material>
        <Material2D emissiveColor="1 0 0" filled="true"/>
       </material>
      </Appearance>
     </appearance>
     <geometry>
      <IndexedFaceSet2D>
       <coord>
        <Coordinate2D point="-100 0 -50 100 50 100 100 0 50 -100 -50 -100"/>
       </coord>
      </IndexedFaceSet2D>
     </geometry>
    </Shape>
   </children>
  </Transform2D>
</Insert>
 </par>
<par begin="2.2">
  <Delete extended="protos" value="3"/>
 </par>
<par begin="2.4">
  <Delete extended="allProtos"/>
 </par>
<par begin="2.6">
  <Replace>
   <Scene>
    <OrderedGroup>
     <children>
      <WorldInfo info="&quot;This shows scene replacement&quot; &quot;through BIFS commands&quot; &quot;GPAC Regression Tests&quot; &quot;$Date: 2007-07-27 09:46:09 $ - $Revision: 1.3 $&quot; &quot;(C) 2002-2004 GPAC Team&quot;" title="scene replace test"/>
      <Background2D backColor="1 1 1"/>
      <Transform2D scale="0.5 0.5">
       <children>
        <Shape>
         <appearance>
          <Appearance>
           <material>
            <Material2D emissiveColor="1 0 0" filled="true"/>
           </material>
          </Appearance>
         </appearance>
         <geometry>
          <IndexedFaceSet2D>
           <coord>
            <Coordinate2D point="-100 0 -50 100 50 100 100 0 50 -100 -50 -100"/>
           </coord>
          </IndexedFaceSet2D>
         </geometry>
        </Shape>
       </children>
      </Transform2D>
     </children>
    </OrderedGroup>
   </Scene>
  </Replace>
 </par>
<par begin="2.8">
  <Replace>
   <Scene>
NULL   </Scene>
  </Replace>
 </par>
 </Body>
</XMT-A>
