.TH "MP4Client" 1 "March 2005" "MP4Client" "GPAC"
.
.SH NAME
.LP 
MP4Client \- GPAC MPEG-4 command-line Player
.SH "SYNOPSIS"
.LP 
.B MP4Client
.RI [options] \ [file]
.br
.
.SH "DESCRIPTION"
.LP 
MP4Client is GPAC command-line player. It supports all GPAC playback features (2D and 3D support, local playback, RTP streaming, HTTP faststart, many audio and video codecs ...). MP4Client also supports visual extraction to BMP, RAW or AVI (no compression, no audio).
.
.
.SH STARTUP OPTIONS
.P
.TP
.B \-c file
specifies config file to use. Default config file is located in user home directory and created if not found.
.TP
.B \-rti file
logs run-time information to file. Information logged is: FPS, CPU, Memory usage.
.TP
.B \-quiet
removes script message, buffering and downloading status.
.TP
.B \-strict-error
exits after the first error is reported.
.TP
.B \-log-file FILE
specifies where to write logs. Default is stdout. Same as -lf.
.TP
.B \-logs TOOLS
sets log tools and levels, formatted as a ':'-separated list of toolX[:toolZ]@level. By default all errors are logged. level can be one of quiet, error, warning, info or debug. tool can be:
.br
core: libgpac core
.br
coding: bitstream formats (audio, video, scene)
.br
container: container formats (ISO File, MPEG-2 TS, AVI, ...)
.br
network: network data exept RTP trafic
.br
rtp: rtp trafic
.br
author: authoring tools (hint, import, export)
.br
sync: terminal sync layer
.br
codec: terminal codec messages
.br
parser: scene parsers (svg, xmt, bt) and other
.br
media: terminal media object management
.br
scene: scene graph and scene manager
.br
script: scripting engine messages
.br
interact: interaction engine (events, scripts, etc)
.br
smil: SMIL timing engine
.br
compose: composition engine (2D, 3D, etc)
.br
mmio: Audio/Video HW I/O management
.br
rti: various run-time stats
.br
cache: HTTP cache subsystem
.br
audio: Audio renderer and mixers
.br
mem: GPAC memory tracker
.br
module: GPAC modules debugging
.br
mutex: mutex
.br
none: no tool logged
.br
all: all tools logged - other tools can be specified afterwards.
.br
.
.SH PLAYBACK OPTIONS
A file can be controled during playback by typing one of the following key at prompt.
.TP
.B o
connects to a new URL entered at prompt by user.
.TP
.B r
restarts the current presentation
.TP
.B p
plays/pauses the current presentation
.TP
.B s
step one frame ahead in the current presentation
.TP
.B z
seek into presentation. Seek percentage is entered at prompt
.TP
.B t
prints current timing of the main timeline of the presentation
.TP
.B w
prints world info of the current presentation
.TP
.B v
prints list of all GF_ObjectDescriptor used in current presentation.
.TP
.B i
prints information of a given OD. Object ID is entered at prompt.
.TP
.B b
prints all objects timing and buffering info.
.TP
.B m
prints all objects buffering and memory info.
.TP
.B d
dumps current presentation scene graph to file or stdout.
.TP
.B k
Turns stress mode on/off.
.TP
.B n
Changes current navigation mode if possible/allowed. When a Layer3D is selected, sets layer3D navigation if allowed.
.TP
.B x
Reset to last active viewpoint. When a layer3D is selected, resets layer3D viewpoint.
.TP
.B 2
Reload MPEG-4 Client with GPAC 2D Renderer.
.TP
.B 3
Reload MPEG-4 Client with GPAC 3D Renderer.
.TP
.B 4
forces 4/3 Aspect Ratio.
.TP
.B 5
forces 16/9 Aspect Ratio.
.TP
.B 6
forces no aspect ratio (always fill screen).
.TP
.B 7
forces original Aspect Ratio (default mode).
.TP
.B l
prints the list of available plugins.
.TP
.B c
prints some GPAC configuration info.
.TP
.B q
quits the application.
.TP
.B C
enables streaming cache.
.TP
.B S
stops streaming cache and record it.
.TP
.B A
stops streaming cache and discard it.
.TP
.B h
prints list of available commands.
.
.SH WINDOW SHORTCUTS
When MP4Client window has the focus, the following shortcuts are available
.TP
.B Alt + right
Seeks 5% ahead from current time.
.TP
.B Alt + left
Seeks 5% before the current time
.TP
.B Alt + up
Increases volume by 5%
.TP
.B Alt + down
Decreases volume by 5%
.TP
.B HOME
Resets navigation to last bound viewpoint/viewport
.TP
.B 4, 5, 6, 7
Same as non-window values
.TP
.B ESCAPE , alt+return, doubleclick
Toggles fullscreen on/off.
.TP
.B ctrl + 'f'
Prints current rendering framerate.
.TP
.B ctrl + 'R'
Sends a redraw message (complete scene state recompute).
.TP
.B ctrl + 'P'
Play/Pause.
.TP
.B ctrl + 'S'
Step one frame ahead.
.
.SH CONFIGURATION FILE
When launched for the first time, MP4Client will ask for a font directory and a cache directory.
.TP
.B Font Directory
Indicates the absolute path to a directory containing a TrueType font repository. In case this directory is not specified or does not contain valid TrueType fonts, text will be disabled.
.TP
.B Cache Directory
Indicates the absolute path to a directory with write access to store files retrieved through HTTP downloads. In case this directory is not specified or has no write access HTTP downloads won't work.
.
.SH NAVIGATION
Navigation with MP4Client depends on the renderer type (2D or 3D) and also on content - some content may disable user selectable navigation.
.TP
.B Walk & Fly modes
Mouse: Horizontal move: Horizontal pan - Vertical move: Z-translate - Vertical move+CTRL or Wheel: Vertical pan - Right Click (Walk mode only): Jump
Keys: left/right: Horizontal pan - left/right+CTRL: Horizontal translate - up/down: Z-translate - up/down+CTRL: Vertical pan
.TP
.B Pan mode
Mouse: Horizontal move: Horizontal pan - Vertical move: Vertical pan - Vertical move+CTRL or Wheel: Z-translate
Keys: left/right: Horizontal pan - left/right+CTRL: Horizontal  translate - up/down: Vertical pan - up/down+CTRL: Z-translate
.TP
.B Slide mode
Mouse: Horizontal move: Horizontal translate - Vertical move: Vertical translate - Vertical move+CTRL or Wheel: Z-translate
Keys: left/right: Horizontal translate - left/right+CTRL: Horizontal pan - up/down: Vertical translate - up/down+CTRL: Z-translate
.TP
.B Examine & Orbit mode
Mouse: Horizontal move: Y-Axis rotate - Horizontal move+CTRL: No move - Vertical move: X-Axis rotate - Vertical move+CTRL or Wheel: Z-translate
Keys: left/right: Y-Axis rotate - left/right+CTRL: Horizontal translate - up/down: X-Axis rotate - up/down+CTRL: Y-translate
.TP
.B Game mode (press END to escape)
Mouse: Horizontal move: H pan - Vertical move: Vertical pan
Keys: left/right: Horizontal translate - up/down: Z-translate
.TP
.B All 3D modes
CTRL+PGUP/PGDOWN will zoom in/out camera (field of view)
.TP
.B Slide Mode in 2D
Mouse: Horizontal move: Horizontal translate - Vertical move: Vertical translate - V move+CTRL: zoom
Keys: left/right: Horizontal translate - up/down: Vertical translate - up/down+CTRL: zoom
.TP
.B Examine Mode in 2D (3D renderer only)
Mouse: Horizontal move: Y-Axis rotate - Vertical move: X-Axis rotate
Keys: left/right: Y-Axis rotate - up/down: X-Axis rotate
.TP
.B SHIFT
Speeds up movement
.
.SH VISUAL EXTRACTION OPTIONS
When used to dump a visual presentation, the client is no longer interactive. All GPAC features are supported during capture, except audio-related ones. The following options can be passed at prompt:
.P
.TP
.B \-bmp [times]
dumps the specified frames to BMP format. If no time is specified, capture is made at t=0s. time is given in millisecond, as an SMPTE time code or as HH:MM:SS:MS time code. You may specify several frame times by using a dash-separated list of times (eg, '0-10-15').
.TP
.B \-raw [times]
dumps the specified frames to RAW format. If no time is specified, cpature is made at t=0s.
.TP
.B \-avi start:end
dumps the specified segment to uncompressed AVI format.
.TP
.B \-fps rate
specifies frame rate for AVI dumping. Default frame rate is 25.0.
.TP
.B \-size WxH
specifies frame size for dumping. Default frame size is the scene size.
.TP
.B \-fill
uses fill aspect ratio. By default, the scene aspect ratio is preserved when dumping.
.TP
.B \-show
show window while dumping the content. By default, the window is hidden during capture.
.TP
.B \-2d
forces usage of 2D renderer. By default, MP4Client uses the renderer indicated in GPAC configuration file.
.TP
.B \-3d
forces usage of 3D renderer. By default, MP4Client uses the renderer indicated in GPAC configuration file.
.TP
.B \-quiet
removes script message, buffering and downloading status.
.
.SH "FILES"
.LP 
.B GPAC Configuration File:
~/.gpacrc
.
.SH "AUTHORS"
.LP 
Jean Le Feuvre <jeanlf@users.sourceforge.net> - GPAC (c) 2000-2005 - ENST 2005-200X
.
.SH "SEE ALSO"
.LP 
GPAC(1), MP4Box(1)
